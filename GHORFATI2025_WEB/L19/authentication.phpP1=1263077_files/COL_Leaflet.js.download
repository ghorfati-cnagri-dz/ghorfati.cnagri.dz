// Procedures globales du projet
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJ4X3Bjc29mdF9ub21fbG9naXF1ZSI6IkNPTF9MZWFmbGV0IiwieF9wY3NvZnRfdHlwZV9sb2dpcXVlIjoiNjU1MzkiLCJ4X3Bjc29mdF9pZF9lbnNlbWJsZSI6IjU2NzQyMDE5NjE4NTE3OTkwNDQiLCJtYXBwaW5ncyI6IkEifQ==
var COL_Leaflet_STItineraire=new NSPCS.NSTypes.CDescriptionStructure([
	new NSPCS.NSTypes.CElementClasseDefinition("pclItineraire","PCLITINERAIRE",function()
	{
		return NSPCS.NSTypes.iGetDescription(37);
	}
	),new NSPCS.NSTypes.CElementClasseDefinition("nDistance","NDISTANCE",function()
	{
		return NSPCS.NSTypes.iGetDescription(8);
	}
	)]
,"STItineraire","STITINERAIRE");
var COL_Leaflet_STCluster=new NSPCS.NSTypes.CDescriptionStructure([
	new NSPCS.NSTypes.CElementClasseDefinition("pclLayer","PCLLAYER",function()
	{
		return NSPCS.NSTypes.iGetDescription(37);
	}
	),new NSPCS.NSTypes.CElementClasseDefinition("taMarqueur","TAMARQUEUR",function()
	{
		return new NSPCS.NSTypes.CDescriptionTableauAssociatif(0,void 0,NSPCS.NSTypes.iGetDescription(37),16);
	}
	)]
,"STCluster","STCLUSTER");
var COL_Leaflet_STElementCarte=new NSPCS.NSTypes.CDescriptionStructure([
	new NSPCS.NSTypes.CElementClasseDefinition("pclCarte","PCLCARTE",function()
	{
		return NSPCS.NSTypes.iGetDescription(37);
	}
	),new NSPCS.NSTypes.CElementClasseDefinition("taMarqueur","TAMARQUEUR",function()
	{
		return new NSPCS.NSTypes.CDescriptionTableauAssociatif(0,void 0,NSPCS.NSTypes.iGetDescription(37),16);
	}
	),new NSPCS.NSTypes.CElementClasseDefinition("taItineraires","TAITINERAIRES",function()
	{
		return new NSPCS.NSTypes.CDescriptionTableauAssociatif(0,void 0,COL_Leaflet_STItineraire.m_oDescriptionStatique,16);
	}
	),new NSPCS.NSTypes.CElementClasseDefinition("taForme","TAFORME",function()
	{
		return new NSPCS.NSTypes.CDescriptionTableauAssociatif(0,void 0,NSPCS.NSTypes.iGetDescription(37),16);
	}
	),new NSPCS.NSTypes.CElementClasseDefinition("taCluster","TACLUSTER",function()
	{
		return new NSPCS.NSTypes.CDescriptionTableauAssociatif(0,void 0,COL_Leaflet_STCluster.m_oDescriptionStatique,16);
	}
	),new NSPCS.NSTypes.CElementClasseDefinition("pclHeatmap","PCLHEATMAP",function()
	{
		return NSPCS.NSTypes.iGetDescription(37);
	}
	),new NSPCS.NSTypes.CElementClasseDefinition("pclTileLayer","PCLTILELAYER",function()
	{
		return NSPCS.NSTypes.iGetDescription(37);
	}
	)]
,"STElementCarte","STELEMENTCARTE");
var COL_Leaflet_STCluster=new NSPCS.NSTypes.CDescriptionStructure([
	new NSPCS.NSTypes.CElementClasseDefinition("pclLayer","PCLLAYER",function()
	{
		return NSPCS.NSTypes.iGetDescription(37);
	}
	),new NSPCS.NSTypes.CElementClasseDefinition("taMarqueur","TAMARQUEUR",function()
	{
		return new NSPCS.NSTypes.CDescriptionTableauAssociatif(0,void 0,NSPCS.NSTypes.iGetDescription(37),16);
	}
	)]
,"STCluster","STCLUSTER");
var COL_Leaflet_STItineraire=new NSPCS.NSTypes.CDescriptionStructure([
	new NSPCS.NSTypes.CElementClasseDefinition("pclItineraire","PCLITINERAIRE",function()
	{
		return NSPCS.NSTypes.iGetDescription(37);
	}
	),new NSPCS.NSTypes.CElementClasseDefinition("nDistance","NDISTANCE",function()
	{
		return NSPCS.NSTypes.iGetDescription(8);
	}
	)]
,"STItineraire","STITINERAIRE");
var COL_Leaflet2eTileProvider=new NSPCS.NSTypes.CDescriptionEnumeration([{
	m_sNom:"PROVIDER_MAPNIK",m_oValeur:void 0}
,{
	m_sNom:"PROVIDER_OPENTOPOMAP",m_oValeur:void 0}
,{
	m_sNom:"PROVIDER_OPENSTREETMAP_BLACKANDWHITE",m_oValeur:void 0}
],"COL_Leaflet.TileProvider");
function COL_Leaflet_LOD()
{
	var __VARS0=new NSPCS.NSValues.CVariablesLocales(0,0);
	try
	{
		clWDUtil.Try();
		{
			void 0;
			void 0;
		}
	}
	catch(_E)
	{
		clWDUtil.xbCatchThrow(_E);return;
	}
	finally
	{
		clWDUtil&&clWDUtil.oFinally();
	}
}
COL_Leaflet_LOD[NSPCS.ms_oSymbolDepuisWLEnV2]=true;
function COL_Leaflet_LEAFLETCREECARTE(VsNomCarte,VactionSurClic,VtaOption)
{
	var __VARS0=new NSPCS.NSValues.CVariablesLocales(3,0);
	try
	{
		clWDUtil.Try();
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomCarte);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(61),false,VactionSurClic);
		__VARS0.xDeclareParametre(new NSPCS.NSTypes.CDescriptionTableauAssociatif(0,void 0,NSPCS.NSTypes.iGetDescription(31),16),false,VtaOption,(function()
		{
			return [];
		}).bind(this)
		);
		__VARS0.xVerifieParametres(arguments.length);
		{
			if(NSPCS.NSUtil.bGetBooleen(NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(1,NSPCS.NSOperations.ChaineConstruit("La carte \'%1\' existe déjà.",__VARS0.oGetVariable(0)));
			}
			__VARS0.oGetVariable(2).viGetSousElement(0,["preferCanvas"]).vSetValeur(true,0,{});
			__VARS0.DeclareVariable(3,COL_Leaflet_STElementCarte.m_oDescriptionStatique);
			__VARS0.oGetVariable(3).viGetMembre2("pclCarte","PCLCARTE",0,2).vSetValeur(NSPCS.NSTypes.xoAllocationDynamique("L.Map",(function()
			{
				return [__VARS0.oGetVariable(0),__VARS0.oGetVariable(2)];
			}).bind(this)
			),0,{});
			__VARS0.oGetVariable(3).viGetMembre2("pclHeatmap","PCLHEATMAP",0,2).vSetValeur(null,0,{});
			__VARS0.oGetVariable(3).viGetMembre2("pclTileLayer","PCLTILELAYER",0,2).vSetValeur(null,0,{});
			NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).vSetValeur(__VARS0.oGetVariable(3),0,{});
			if(NSPCS.NSOperations.bComparaison(__VARS0.oGetVariable(1),null,true,true,false,false))
			{
				__VARS0.oGetVariable(3).viGetMembre2("pclCarte","PCLCARTE",0,2).viGetMembre2("on","ON",0,3).viAppelFonction("click",__VARS0.oGetVariable(1));
			}
			void 0;
		}
	}
	catch(_E)
	{
		clWDUtil.xbCatchThrow(_E);return;
	}
	finally
	{
		clWDUtil&&clWDUtil.oFinally();
	}
}
COL_Leaflet_LEAFLETCREECARTE[NSPCS.ms_oSymbolDepuisWLEnV2]=true;
function COL_Leaflet_LEAFLETAFFICHEPOSITION(VsNomCarte,VgPos,VnZoom,VtaOptionZoom)
{
	var __VARS0=new NSPCS.NSValues.CVariablesLocales(4,0);
	try
	{
		clWDUtil.Try();
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomCarte);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.oGetDescriptionDINO(10,13).m_oDescriptionStatique,false,VgPos);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(8),false,VnZoom,(function()
		{
			return 12;
		}).bind(this)
		);
		__VARS0.xDeclareParametre(new NSPCS.NSTypes.CDescriptionTableauAssociatif(0,void 0,NSPCS.NSTypes.iGetDescription(31),16),false,VtaOptionZoom,(function()
		{
			return [];
		}).bind(this)
		);
		__VARS0.xVerifieParametres(arguments.length);
		{
			if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(1,NSPCS.NSOperations.ChaineConstruit("La carte \'%1\' n\'existe pas.",__VARS0.oGetVariable(0)));
			}
			NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("pclCarte","PCLCARTE",0,2).viGetMembre2("setView","SETVIEW",0,3).viAppelFonction([__VARS0.oGetVariable(1).viGetMembre2("Latitude","LATITUDE",0,4),__VARS0.oGetVariable(1).viGetMembre2("Longitude","LONGITUDE",0,4)],__VARS0.oGetVariable(2),__VARS0.oGetVariable(3));
			void 0;
		}
	}
	catch(_E)
	{
		clWDUtil.xbCatchThrow(_E);return;
	}
	finally
	{
		clWDUtil&&clWDUtil.oFinally();
	}
}
COL_Leaflet_LEAFLETAFFICHEPOSITION[NSPCS.ms_oSymbolDepuisWLEnV2]=true;
function COL_Leaflet_LEAFLETCHANGEFOURNISSEURTUILE(VsNomCarte,VeProvider,VtaOption)
{
	var __VARS0=new NSPCS.NSValues.CVariablesLocales(3,0);
	try
	{
		clWDUtil.Try();
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomCarte);
		__VARS0.xDeclareParametre(COL_Leaflet2eTileProvider,false,VeProvider);
		__VARS0.xDeclareParametre(new NSPCS.NSTypes.CDescriptionTableauAssociatif(0,"",NSPCS.NSTypes.iGetDescription(16),16),false,VtaOption,(function()
		{
			return [];
		}).bind(this)
		);
		__VARS0.xVerifieParametres(arguments.length);
		{
			if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(1,NSPCS.NSOperations.ChaineConstruit("La carte \'%1\' n\'existe pas.",__VARS0.oGetVariable(0)));
			}
			if(NSPCS.NSOperations.bComparaison(NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("pclTileLayer","PCLTILELAYER",0,2),null,true,true,false,false))
			{
				NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("pclTileLayer","PCLTILELAYER",0,2).viGetMembre2("remove","REMOVE",0,3).viAppelFonction();
			}
			__VARS0.DeclareVariable(3,NSPCS.NSTypes.iGetDescription(37));
			if(NSPCS.NSOperations.bComparaison(__VARS0.oGetVariable(2).viGetSousElement(0,["maxZoom"]).viGetPropriete(0,43),false,true,false,false,false))
			{
				__VARS0.oGetVariable(2).viGetSousElement(0,["maxZoom"]).vSetValeur(17,0,{});
			}
			var V2371201796184=NSPCS.NSValues.oAny2RValue(__VARS0.oGetVariable(1));
			if(NSPCS.NSOperations.bComparaison(V2371201796184,COL_Leaflet2eTileProvider.xiCreeSelonNom("PROVIDER_OPENTOPOMAP"),true,false,false,false))
			{
				__VARS0.oGetVariable(2).viGetSousElement(0,["attribution"]).vSetValeur("\'Map data: \u0026copy; \u003Ca href=\"http://www.openstreetmap.org/copyright\"\u003EOpenStreetMap\u003C/a\u003E, \u003Ca href=\"http://viewfinderpanoramas.org\"\u003ESRTM\u003C/a\u003E | Map style: \u0026copy; \u003Ca href=\"https://opentopomap.org\"\u003EOpenTopoMap\u003C/a\u003E (\u003Ca href=\"https://creativecommons.org/licenses/by-sa/3.0/\"\u003ECC-BY-SA\u003C/a\u003E)",0,{});
				__VARS0.oGetVariable(3).vSetValeur(L.tileLayer("https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",NSPCS.NSValues.oAny2Natif(__VARS0.oGetVariable(2))),0,{});
			}
			else if(NSPCS.NSOperations.bComparaison(V2371201796184,COL_Leaflet2eTileProvider.xiCreeSelonNom("PROVIDER_MAPNIK"),true,false,false,false))
			{
				__VARS0.oGetVariable(2).viGetSousElement(0,["attribution"]).vSetValeur("\u0026copy; \u003Ca href=\"http://www.openstreetmap.org/copyright\"\u003EOpenStreetMap\u003C/a\u003E",0,{});
				__VARS0.oGetVariable(3).vSetValeur(L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",NSPCS.NSValues.oAny2Natif(__VARS0.oGetVariable(2))),0,{});
			}
			else if(NSPCS.NSOperations.bComparaison(V2371201796184,COL_Leaflet2eTileProvider.xiCreeSelonNom("PROVIDER_OPENSTREETMAP_BLACKANDWHITE"),true,false,false,false))
			{
				__VARS0.oGetVariable(2).viGetSousElement(0,["attribution"]).vSetValeur("\u0026copy; \u003Ca href=\"http://www.openstreetmap.org/copyright\"\u003EOpenStreetMap\u003C/a\u003E",0,{});
				__VARS0.oGetVariable(3).vSetValeur(L.tileLayer("http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png",NSPCS.NSValues.oAny2Natif(__VARS0.oGetVariable(2))),0,{});
			}
			else
			{
				throw new WDErreurBase(2,"Fournisseur de tuile inconnu.");
			}
			NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("pclTileLayer","PCLTILELAYER",0,2).vSetValeur(__VARS0.oGetVariable(3),0,{});
			__VARS0.oGetVariable(3).viGetMembre2("addTo","ADDTO",0,3).viAppelFonction(NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("pclCarte","PCLCARTE",0,2));
			void 0;
		}
	}
	catch(_E)
	{
		clWDUtil.xbCatchThrow(_E);return;
	}
	finally
	{
		clWDUtil&&clWDUtil.oFinally();
	}
}
COL_Leaflet_LEAFLETCHANGEFOURNISSEURTUILE[NSPCS.ms_oSymbolDepuisWLEnV2]=true;
function COL_Leaflet_LEAFLETAJOUTEMARQUEUR(VsNomCarte,VsNomMarqueur,VgPos,VsDescription,VactionSurClic,VsNomCluster,VtaOption)
{
	var __VARS0=new NSPCS.NSValues.CVariablesLocales(7,0);
	try
	{
		clWDUtil.Try();
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomCarte);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomMarqueur);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.oGetDescriptionDINO(10,13).m_oDescriptionStatique,false,VgPos);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsDescription);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(61),false,VactionSurClic);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomCluster,(function()
		{
			return "";
		}).bind(this)
		);
		__VARS0.xDeclareParametre(new NSPCS.NSTypes.CDescriptionTableauAssociatif(0,void 0,NSPCS.NSTypes.iGetDescription(31),16),false,VtaOption,(function()
		{
			return [];
		}).bind(this)
		);
		__VARS0.xVerifieParametres(arguments.length);
		{
			if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(1,NSPCS.NSOperations.ChaineConstruit("La carte \'%1\' n\'existe pas.",__VARS0.oGetVariable(0)));
			}
			if((NSPCS.NSOperations.bComparaison(__VARS0.oGetVariable(5),"",true,true,false,false)&&NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taCluster","TACLUSTER",0,2).viGetSousElement(0,[__VARS0.oGetVariable(5)]).viGetPropriete(0,43))))
			{
				throw new WDErreurBase(2,NSPCS.NSOperations.ChaineConstruit("Le cluster \'%1\' n\'existe pas sur la carte \'%2\'.",__VARS0.oGetVariable(5),__VARS0.oGetVariable(0)));
			}
			if((NSPCS.NSOperations.bComparaison(__VARS0.oGetVariable(5),"",true,false,false,false)&&NSPCS.NSUtil.bGetBooleen(NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taMarqueur","TAMARQUEUR",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetPropriete(0,43))))
			{
				throw new WDErreurBase(3,NSPCS.NSOperations.ChaineConstruit("Le marqueur \'%1\' existe déjà sur la carte \'%2\'.",__VARS0.oGetVariable(1),__VARS0.oGetVariable(0)));
			}
			if((NSPCS.NSOperations.bComparaison(__VARS0.oGetVariable(5),"",true,true,false,false)&&NSPCS.NSUtil.bGetBooleen(NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taCluster","TACLUSTER",0,2).viGetSousElement(0,[__VARS0.oGetVariable(5)]).viGetMembre2("taMarqueur","TAMARQUEUR",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetPropriete(0,43))))
			{
				throw new WDErreurBase(4,NSPCS.NSOperations.ChaineConstruit("Le marqueur \'%1\' existe déjà dans le cluster \'%2\' sur la carte \'%3\'.",__VARS0.oGetVariable(1),__VARS0.oGetVariable(5),__VARS0.oGetVariable(0)));
			}
			__VARS0.oGetVariable(6).viGetSousElement(0,["title"]).vSetValeur(__VARS0.oGetVariable(3),0,{});
			__VARS0.oGetVariable(6).viGetSousElement(0,["alt"]).vSetValeur(__VARS0.oGetVariable(3),0,{});
			__VARS0.DeclareVariable(7,NSPCS.NSTypes.iGetDescription(37),L.marker([NSPCS.NSValues.oAny2Natif(__VARS0.oGetVariable(2).viGetMembre2("Latitude","LATITUDE",0,4)),NSPCS.NSValues.oAny2Natif(__VARS0.oGetVariable(2).viGetMembre2("Longitude","LONGITUDE",0,4))],NSPCS.NSValues.oAny2Natif(__VARS0.oGetVariable(6))),0);
			if(NSPCS.NSOperations.bComparaison(__VARS0.oGetVariable(4),null,true,true,false,false))
			{
				__VARS0.oGetVariable(7).viGetMembre2("on","ON",0,3).viAppelFonction("click",__VARS0.oGetVariable(4));
			}
			if(NSPCS.NSOperations.bComparaison(__VARS0.oGetVariable(5),"",true,true,false,false))
			{
				NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taCluster","TACLUSTER",0,2).viGetSousElement(0,[__VARS0.oGetVariable(5)]).viGetMembre2("taMarqueur","TAMARQUEUR",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).vSetValeur(__VARS0.oGetVariable(7),0,{});
				__VARS0.oGetVariable(7).viGetMembre2("addTo","ADDTO",0,3).viAppelFonction(NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taCluster","TACLUSTER",0,2).viGetSousElement(0,[__VARS0.oGetVariable(5)]).viGetMembre2("pclLayer","PCLLAYER",0,2));
			}
			else
			{
				NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taMarqueur","TAMARQUEUR",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).vSetValeur(__VARS0.oGetVariable(7),0,{});
				__VARS0.oGetVariable(7).viGetMembre2("addTo","ADDTO",0,3).viAppelFonction(NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("pclCarte","PCLCARTE",0,2));
			}
			void 0;
		}
	}
	catch(_E)
	{
		clWDUtil.xbCatchThrow(_E);return;
	}
	finally
	{
		clWDUtil&&clWDUtil.oFinally();
	}
}
COL_Leaflet_LEAFLETAJOUTEMARQUEUR[NSPCS.ms_oSymbolDepuisWLEnV2]=true;
function COL_Leaflet_LEAFLETSUPPRIMEMARQUEUR(VsNomCarte,VsNomMarqueur,VsNomCluster)
{
	var __VARS0=new NSPCS.NSValues.CVariablesLocales(3,0);
	try
	{
		clWDUtil.Try();
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomCarte);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomMarqueur);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomCluster,(function()
		{
			return "";
		}).bind(this)
		);
		__VARS0.xVerifieParametres(arguments.length);
		{
			if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(1,NSPCS.NSOperations.ChaineConstruit("La carte \'%1\' n\'existe pas.",__VARS0.oGetVariable(0)));
			}
			if(NSPCS.NSOperations.bComparaison(__VARS0.oGetVariable(2),"",true,false,false,false))
			{
				if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taMarqueur","TAMARQUEUR",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetPropriete(0,43)))
				{
					throw new WDErreurBase(3,NSPCS.NSOperations.ChaineConstruit("Le marqueur \'%1\' n\'existe pas sur la carte \'%2\'.",__VARS0.oGetVariable(1),__VARS0.oGetVariable(0)));
				}
				NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taMarqueur","TAMARQUEUR",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetMembre2("remove","REMOVE",0,3).viAppelFonction();
				NSPCS.NSOperations.nTableauSupprime(NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taMarqueur","TAMARQUEUR",0,2),__VARS0.oGetVariable(1));
			}
			else
			{
				if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taCluster","TACLUSTER",0,2).viGetSousElement(0,[__VARS0.oGetVariable(2)]).viGetPropriete(0,43)))
				{
					throw new WDErreurBase(2,NSPCS.NSOperations.ChaineConstruit("Le cluster \'%1\' n\'existe pas sur la carte \'%2\'.",__VARS0.oGetVariable(2),__VARS0.oGetVariable(0)));
				}
				if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taCluster","TACLUSTER",0,2).viGetSousElement(0,[__VARS0.oGetVariable(2)]).viGetMembre2("taMarqueur","TAMARQUEUR",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetPropriete(0,43)))
				{
					throw new WDErreurBase(4,NSPCS.NSOperations.ChaineConstruit("Le marqueur \'%1\' n\'existe pas dans le cluster \'%2\' sur la carte \'%3\'.",__VARS0.oGetVariable(1),__VARS0.oGetVariable(2),__VARS0.oGetVariable(0)));
				}
				NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taCluster","TACLUSTER",0,2).viGetSousElement(0,[__VARS0.oGetVariable(2)]).viGetMembre2("taMarqueur","TAMARQUEUR",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetMembre2("remove","REMOVE",0,3).viAppelFonction();
				NSPCS.NSOperations.nTableauSupprime(NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taCluster","TACLUSTER",0,2).viGetSousElement(0,[__VARS0.oGetVariable(2)]).viGetMembre2("taMarqueur","TAMARQUEUR",0,2),__VARS0.oGetVariable(1));
			}
			void 0;
		}
	}
	catch(_E)
	{
		clWDUtil.xbCatchThrow(_E);return;
	}
	finally
	{
		clWDUtil&&clWDUtil.oFinally();
	}
}
COL_Leaflet_LEAFLETSUPPRIMEMARQUEUR[NSPCS.ms_oSymbolDepuisWLEnV2]=true;
function COL_Leaflet_LEAFLETSUPPRIMETOUTMARQUEUR(VsNomCarte)
{
	var __VARS0=new NSPCS.NSValues.CVariablesLocales(1,0);
	try
	{
		clWDUtil.Try();
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomCarte);
		__VARS0.xVerifieParametres(arguments.length);
		{
			if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(1,NSPCS.NSOperations.ChaineConstruit("La carte \'%1\' n\'existe pas.",__VARS0.oGetVariable(0)));
			}
			try
			{
				L2371201775240:do
				{
					L2371201784857:do
					{
						var VpclMarqueur=__VARS0.iVariablePourIterateur(NSPCS.NSTypes.iGetDescription(37),void 0);
						for(var V2371201786440=NSPCS.NSOperations.iDeclareIterateur(NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taMarqueur","TAMARQUEUR",0,2),VpclMarqueur,void 0,void 0,2,void 0,false,0);!V2371201786440.bEstFini();V2371201786440.Suivant())
						{
							L2371201784856:do
							{
								VpclMarqueur.viGetMembre2("remove","REMOVE",0,3).viAppelFonction();
							}
							while(false);
						}
						break L2371201775240;
					}
					while(false);

				}
				while(false);
			}
			finally
			{
				NSPCS.NSOperations.LibereIterateur(V2371201786440);
			}
			NSPCS.NSOperations.TableauSupprimeTout(NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taMarqueur","TAMARQUEUR",0,2));
			__VARS0.DeclareVariable(1,COL_Leaflet_STCluster.m_oDescriptionStatique);
			try
			{
				L2371201797192:do
				{
					L2371201762809:do
					{
						var VsNomCluster=__VARS0.iVariablePourIterateur(void 0,void 0);
						for(var V2371201764728=NSPCS.NSOperations.iDeclareIterateur(NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taCluster","TACLUSTER",0,2),__VARS0.oGetVariable(1),VsNomCluster,void 0,2,void 0,false,0);!V2371201764728.bEstFini();V2371201764728.Suivant())
						{
							L2371201762808:do
							{
								try
								{
									L2371201796808:do
									{
										L2371201765305:do
										{
											var VpclMarqueur=__VARS0.iVariablePourIterateur(NSPCS.NSTypes.iGetDescription(37),void 0);
											for(var V2371201766168=NSPCS.NSOperations.iDeclareIterateur(__VARS0.oGetVariable(1).viGetMembre2("taMarqueur","TAMARQUEUR",0,2),VpclMarqueur,void 0,void 0,2,void 0,false,0);!V2371201766168.bEstFini();V2371201766168.Suivant())
											{
												L2371201765304:do
												{
													__VARS0.oGetVariable(1).viGetMembre2("pclLayer","PCLLAYER",0,2).viGetMembre2("removeLayer","REMOVELAYER",0,3).viAppelFonction(VpclMarqueur);
												}
												while(false);
											}
											break L2371201796808;
										}
										while(false);
									}
									while(false);
								}
								finally
								{
									NSPCS.NSOperations.LibereIterateur(V2371201766168);
								}
								NSPCS.NSOperations.TableauSupprimeTout(NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taCluster","TACLUSTER",0,2).viGetSousElement(0,[VsNomCluster]).viGetMembre2("taMarqueur","TAMARQUEUR",0,2));
							}
							while(false);
						}
						break L2371201797192;
					}
					while(false);

				}
				while(false);
			}
			finally
			{
				NSPCS.NSOperations.LibereIterateur(V2371201764728);
			}
			void 0;
		}
	}
	catch(_E)
	{
		clWDUtil.xbCatchThrow(_E);return;
	}
	finally
	{
		clWDUtil&&clWDUtil.oFinally();
	}
}
COL_Leaflet_LEAFLETSUPPRIMETOUTMARQUEUR[NSPCS.ms_oSymbolDepuisWLEnV2]=true;
function COL_Leaflet_LEAFLETINFOPOSITION(VsNomCarte,VgPos)
{
	var __VARS0=new NSPCS.NSValues.CVariablesLocales(2,0);
	try
	{
		clWDUtil.Try();
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomCarte);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.oGetDescriptionDINO(10,13).m_oDescriptionStatique,false,VgPos);
		__VARS0.xVerifieParametres(arguments.length);
		{
			if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(1,NSPCS.NSOperations.ChaineConstruit("La carte \'%1\' n\'existe pas.",__VARS0.oGetVariable(0)));
			}
			__VARS0.DeclareVariable(2,NSPCS.NSTypes.iGetDescription(37),NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("pclCarte","PCLCARTE",0,2).viGetMembre2("latLngToLayerPoint","LATLNGTOLAYERPOINT",0,3).viAppelFonction([__VARS0.oGetVariable(1).viGetMembre2("Latitude","LATITUDE",0,4),__VARS0.oGetVariable(1).viGetMembre2("Longitude","LONGITUDE",0,4)]),0);
			__VARS0.DeclareVariable(3,NSPCS.NSTypes.iGetDescription(8),__VARS0.oGetVariable(2).viGetMembre2("x","X",0,0),0);
			__VARS0.DeclareVariable(4,NSPCS.NSTypes.iGetDescription(8),__VARS0.oGetVariable(2).viGetMembre2("y","Y",0,0),0);
			clWDUtil.Renvoyer(new NSPCS.NSValues.CValeursMultiples([NSPCS.NSValues.oAny2RValue(__VARS0.oGetVariable(3)),NSPCS.NSValues.oAny2RValue(__VARS0.oGetVariable(4))]));
			return;
			void 0;
		}
	}
	catch(_E)
	{
		clWDUtil.xbCatchThrow(_E);return;
	}
	finally
	{
		return clWDUtil&&clWDUtil.oFinally([NSPCS.NSTypes.iGetDescription(8),NSPCS.NSTypes.iGetDescription(8)]);
	}
}
COL_Leaflet_LEAFLETINFOPOSITION[NSPCS.ms_oSymbolDepuisWLEnV2]=true;
function COL_Leaflet_LEAFLETINFOXY(VsNomCarte,Vx,Vy)
{
	var __VARS0=new NSPCS.NSValues.CVariablesLocales(3,0);
	try
	{
		clWDUtil.Try();
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomCarte);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(8),false,Vx);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(8),false,Vy);
		__VARS0.xVerifieParametres(arguments.length);
		{
			if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(1,NSPCS.NSOperations.ChaineConstruit("La carte \'%1\' n\'existe pas.",__VARS0.oGetVariable(0)));
			}
			__VARS0.DeclareVariable(3,NSPCS.NSTypes.iGetDescription(37),NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("pclCarte","PCLCARTE",0,2).viGetMembre2("layerPointToLatLng","LAYERPOINTTOLATLNG",0,3).viAppelFonction([__VARS0.oGetVariable(1),__VARS0.oGetVariable(2)]),0);
			__VARS0.DeclareVariable(4,NSPCS.NSTypes.oGetDescriptionDINO(10,13).m_oDescriptionStatique);
			__VARS0.oGetVariable(4).viGetMembre2("Latitude","LATITUDE",0,4).vSetValeur(__VARS0.oGetVariable(3).viGetMembre2("lat","LAT",0,0),0,{});
			__VARS0.oGetVariable(4).viGetMembre2("Longitude","LONGITUDE",0,4).vSetValeur(__VARS0.oGetVariable(3).viGetMembre2("lng","LNG",0,0),0,{});
			clWDUtil.Renvoyer(NSPCS.NSValues.oAny2RValue(__VARS0.oGetVariable(4)));
			return;
			void 0;
		}
	}
	catch(_E)
	{
		clWDUtil.xbCatchThrow(_E);return;
	}
	finally
	{
		return clWDUtil&&clWDUtil.oFinally([NSPCS.NSTypes.oGetDescriptionDINO(10,13).m_oDescriptionStatique]);
	}
}
COL_Leaflet_LEAFLETINFOXY[NSPCS.ms_oSymbolDepuisWLEnV2]=true;
function COL_Leaflet_LEAFLETAJOUTEITINERAIRE(VsNomCarte,VsNomItineraire,VposDépart,VposArrivée,VtaOption)
{
	var __VARS0=new NSPCS.NSValues.CVariablesLocales(5,0);
	try
	{
		clWDUtil.Try();
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomCarte);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),true,VsNomItineraire);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.oGetDescriptionDINO(10,13).m_oDescriptionStatique,false,VposDépart);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.oGetDescriptionDINO(10,13).m_oDescriptionStatique,false,VposArrivée);
		__VARS0.xDeclareParametre(new NSPCS.NSTypes.CDescriptionTableauAssociatif(0,void 0,NSPCS.NSTypes.iGetDescription(31),16),false,VtaOption,(function()
		{
			return [];
		}).bind(this)
		);
		__VARS0.xVerifieParametres(arguments.length);
		{
			if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(1,NSPCS.NSOperations.ChaineConstruit("La carte \'%1\' n\'existe pas.",__VARS0.oGetVariable(0)));
			}
			if(NSPCS.NSUtil.bGetBooleen(NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taItineraires","TAITINERAIRES",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(2,NSPCS.NSOperations.ChaineConstruit("L\'itinéraire \'%1\' existe déjà sur la carte \'%2\'.",__VARS0.oGetVariable(1),__VARS0.oGetVariable(0)));
			}
			__VARS0.DeclareVariable(5,COL_Leaflet_STElementCarte.m_oDescriptionDynamique,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]),0);
			if(NSPCS.NSOperations.oUnaire(0,__VARS0.oGetVariable(5).viGetMembre2("taItineraires","TAITINERAIRES",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetPropriete(0,43)))
			{
				__VARS0.DeclareVariable(6,NSPCS.NSTypes.iGetDescription(37),L.latLng(NSPCS.NSValues.oAny2Natif(__VARS0.oGetVariable(2).viGetMembre2("Latitude","LATITUDE",0,4)),NSPCS.NSValues.oAny2Natif(__VARS0.oGetVariable(2).viGetMembre2("Longitude","LONGITUDE",0,4))),0);
				__VARS0.DeclareVariable(7,NSPCS.NSTypes.iGetDescription(37),L.latLng(NSPCS.NSValues.oAny2Natif(__VARS0.oGetVariable(3).viGetMembre2("Latitude","LATITUDE",0,4)),NSPCS.NSValues.oAny2Natif(__VARS0.oGetVariable(3).viGetMembre2("Longitude","LONGITUDE",0,4))),0);
				__VARS0.oGetVariable(4).viGetSousElement(0,["waypoints"]).vSetValeur([__VARS0.oGetVariable(6),__VARS0.oGetVariable(7)],0,{});
				if(NSPCS.NSOperations.bComparaison(__VARS0.oGetVariable(4).viGetSousElement(0,["language"]).viGetPropriete(0,43),false,true,false,false,false))
				{
					__VARS0.oGetVariable(4).viGetSousElement(0,["language"]).vSetValeur("fr",0,{});
				}
				function RouteTrouvée(Ve)
				{
					var __VARS1=new NSPCS.NSValues.CVariablesLocales(1,0);
					try
					{
						clWDUtil.Try();
						__VARS1.xDeclareParametre(null,false,Ve);
						{
							__VARS0.oGetVariable(5).viGetMembre2("taItineraires","TAITINERAIRES",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetMembre2("nDistance","NDISTANCE",0,2).vSetValeur(__VARS1.oGetVariable(0).viGetMembre2("routes","ROUTES",0,0).viGetSousElement(0,[1]).viGetMembre2("summary","SUMMARY",0,0).viGetMembre2("totalDistance","TOTALDISTANCE",0,0),0,{});
						}
					}
					catch(_E)
					{
						clWDUtil.xbCatchThrow(_E);return;
					}
					finally
					{
						clWDUtil&&clWDUtil.oFinally();
					}
				}
				;
				__VARS0.DeclareVariable(8,NSPCS.NSTypes.iGetDescription(61),NSPCS.NSUtil.pfDepuisWLEnV2(RouteTrouvée,this),0);
				__VARS0.DeclareVariable(9,NSPCS.NSTypes.iGetDescription(37),L.Routing.control(NSPCS.NSValues.oAny2Natif(__VARS0.oGetVariable(4))),0);
				__VARS0.oGetVariable(9).viGetMembre2("on","ON",0,3).viAppelFonction("routesfound",__VARS0.oGetVariable(8));
				__VARS0.oGetVariable(9).viGetMembre2("addTo","ADDTO",0,3).viAppelFonction(NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("pclCarte","PCLCARTE",0,2));
				__VARS0.DeclareVariable(10,COL_Leaflet_STItineraire.m_oDescriptionStatique);
				__VARS0.oGetVariable(10).viGetMembre2("pclItineraire","PCLITINERAIRE",0,2).vSetValeur(__VARS0.oGetVariable(9),0,{});
				__VARS0.oGetVariable(5).viGetMembre2("taItineraires","TAITINERAIRES",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).vSetValeur(__VARS0.oGetVariable(10),0,{});
			}
			void 0;
		}
	}
	catch(_E)
	{
		clWDUtil.xbCatchThrow(_E);return;
	}
	finally
	{
		clWDUtil&&clWDUtil.oFinally();
	}
}
COL_Leaflet_LEAFLETAJOUTEITINERAIRE[NSPCS.ms_oSymbolDepuisWLEnV2]=true;
function COL_Leaflet_LEAFLETSUPPRIMEITINERAIRE(VsNomCarte,VsNomItineraire)
{
	var __VARS0=new NSPCS.NSValues.CVariablesLocales(2,0);
	try
	{
		clWDUtil.Try();
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomCarte);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomItineraire);
		__VARS0.xVerifieParametres(arguments.length);
		{
			if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(1,NSPCS.NSOperations.ChaineConstruit("La carte \'%1\' n\'existe pas.",__VARS0.oGetVariable(0)));
			}
			if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taItineraires","TAITINERAIRES",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(2,NSPCS.NSOperations.ChaineConstruit("L\'itinéraire \'%1\' n\'existe pas sur la carte \'%2\'.",__VARS0.oGetVariable(1),__VARS0.oGetVariable(0)));
			}
			__VARS0.DeclareVariable(2,COL_Leaflet_STElementCarte.m_oDescriptionDynamique,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]),0);
			if(NSPCS.NSUtil.bGetBooleen(__VARS0.oGetVariable(2).viGetMembre2("taItineraires","TAITINERAIRES",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetPropriete(0,43)))
			{
				__VARS0.oGetVariable(2).viGetMembre2("taItineraires","TAITINERAIRES",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetMembre2("pclItineraire","PCLITINERAIRE",0,2).viGetMembre2("remove","REMOVE",0,3).viAppelFonction();
				NSPCS.NSOperations.nTableauSupprime(__VARS0.oGetVariable(2).viGetMembre2("taItineraires","TAITINERAIRES",0,2),__VARS0.oGetVariable(1));
			}
			void 0;
		}
	}
	catch(_E)
	{
		clWDUtil.xbCatchThrow(_E);return;
	}
	finally
	{
		clWDUtil&&clWDUtil.oFinally();
	}
}
COL_Leaflet_LEAFLETSUPPRIMEITINERAIRE[NSPCS.ms_oSymbolDepuisWLEnV2]=true;
function COL_Leaflet_LEAFLETRECUPEREPOSITION(VsNomCarte)
{
	var __VARS0=new NSPCS.NSValues.CVariablesLocales(1,0);
	try
	{
		clWDUtil.Try();
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomCarte);
		__VARS0.xVerifieParametres(arguments.length);
		{
			__VARS0.DeclareVariable(1,NSPCS.NSTypes.oGetDescriptionDINO(10,13).m_oDescriptionStatique);
			__VARS0.DeclareVariable(2,NSPCS.NSTypes.iGetDescription(37),NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("pclCarte","PCLCARTE",0,2).viGetMembre2("getCenter","GETCENTER",0,3).viAppelFonction(),0);
			__VARS0.oGetVariable(1).viGetMembre2("Latitude","LATITUDE",0,4).vSetValeur(__VARS0.oGetVariable(2).viGetMembre2("lat","LAT",0,0),0,{});
			__VARS0.oGetVariable(1).viGetMembre2("Longitude","LONGITUDE",0,4).vSetValeur(__VARS0.oGetVariable(2).viGetMembre2("lng","LNG",0,0),0,{});
			clWDUtil.Renvoyer(NSPCS.NSValues.oAny2RValue(__VARS0.oGetVariable(1)));
			return;
			void 0;
		}
	}
	catch(_E)
	{
		clWDUtil.xbCatchThrow(_E);return;
	}
	finally
	{
		return clWDUtil&&clWDUtil.oFinally([NSPCS.NSTypes.oGetDescriptionDINO(10,13).m_oDescriptionStatique]);
	}
}
COL_Leaflet_LEAFLETRECUPEREPOSITION[NSPCS.ms_oSymbolDepuisWLEnV2]=true;
function COL_Leaflet_LEAFLETDISTANCEITINERAIRE(VsNomCarte,VsNomItineraire)
{
	var __VARS0=new NSPCS.NSValues.CVariablesLocales(2,0);
	try
	{
		clWDUtil.Try();
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomCarte);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomItineraire);
		__VARS0.xVerifieParametres(arguments.length);
		{
			if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(1,NSPCS.NSOperations.ChaineConstruit("La carte \'%1\' n\'existe pas.",__VARS0.oGetVariable(0)));
			}
			if((NSPCS.NSOperations.bComparaison(__VARS0.oGetVariable(1),"",true,false,false,false)&&NSPCS.NSUtil.bGetBooleen(NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taItineraires","TAITINERAIRES",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetPropriete(0,43))))
			{
				throw new WDErreurBase(2,NSPCS.NSOperations.ChaineConstruit("L\'itinéraire \'%1\' n\'existe pas sur la carte \'%2\'.",__VARS0.oGetVariable(1),__VARS0.oGetVariable(0)));
			}
			clWDUtil.Renvoyer(NSPCS.NSValues.oAny2RValue(NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taItineraires","TAITINERAIRES",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetMembre2("nDistance","NDISTANCE",0,2)));
			return;
			void 0;
		}
	}
	catch(_E)
	{
		clWDUtil.xbCatchThrow(_E);return;
	}
	finally
	{
		return clWDUtil&&clWDUtil.oFinally();
	}
}
COL_Leaflet_LEAFLETDISTANCEITINERAIRE[NSPCS.ms_oSymbolDepuisWLEnV2]=true;
function COL_Leaflet_LEAFLETRECUPEREIMAGE(VsNomCarte,VpCallbackImage)
{
	var __VARS0=new NSPCS.NSValues.CVariablesLocales(2,0);
	try
	{
		clWDUtil.Try();
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),true,VsNomCarte);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(61),true,VpCallbackImage);
		__VARS0.xVerifieParametres(arguments.length);
		{
			if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(1,NSPCS.NSOperations.ChaineConstruit("La carte \'%1\' n\'existe pas.",__VARS0.oGetVariable(0)));
			}
			function _RecupImage(Verr,Vcanvas)
			{
				var __VARS1=new NSPCS.NSValues.CVariablesLocales(2,0);
				try
				{
					clWDUtil.Try();
					__VARS1.xDeclareParametre(null,false,Verr);
					__VARS1.xDeclareParametre(null,false,Vcanvas);
					{
						__VARS0.oGetVariable(1).viAppelFonction(__VARS1.oGetVariable(1).viGetMembre2("toDataURL","TODATAURL",1,3).viAppelFonction());
					}
				}
				catch(_E)
				{
					clWDUtil.xbCatchThrow(_E);return;
				}
				finally
				{
					clWDUtil&&clWDUtil.oFinally();
				}
			}
			;
			__VARS0.DeclareVariable(2,NSPCS.NSTypes.iGetDescription(61),NSPCS.NSUtil.pfDepuisWLEnV2(_RecupImage,this),0);
			leafletImage(NSPCS.NSValues.oAny2Natif(NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("pclCarte","PCLCARTE",0,2)),NSPCS.NSValues.oAny2Natif(__VARS0.oGetVariable(2)));
			void 0;
		}
	}
	catch(_E)
	{
		clWDUtil.xbCatchThrow(_E);return;
	}
	finally
	{
		clWDUtil&&clWDUtil.oFinally();
	}
}
COL_Leaflet_LEAFLETRECUPEREIMAGE[NSPCS.ms_oSymbolDepuisWLEnV2]=true;
function COL_Leaflet_LEAFLETMODIFIEMARQUEUR(VsNomCarte,VsNomMarqueur,VgPos,VsDescription,VactionSurClic,VsNomCluster,VtaOption)
{
	var __VARS0=new NSPCS.NSValues.CVariablesLocales(7,0);
	try
	{
		clWDUtil.Try();
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomCarte);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomMarqueur);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.oGetDescriptionDINO(10,13).m_oDescriptionStatique,false,VgPos);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsDescription);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(61),false,VactionSurClic);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomCluster,(function()
		{
			return "";
		}).bind(this)
		);
		__VARS0.xDeclareParametre(new NSPCS.NSTypes.CDescriptionTableauAssociatif(0,void 0,NSPCS.NSTypes.iGetDescription(31),16),false,VtaOption,(function()
		{
			return [];
		}).bind(this)
		);
		__VARS0.xVerifieParametres(arguments.length);
		{
			if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(1,NSPCS.NSOperations.ChaineConstruit("La carte \'%1\' n\'existe pas.",__VARS0.oGetVariable(0)));
			}
			if((NSPCS.NSOperations.bComparaison(__VARS0.oGetVariable(5),"",true,true,false,false)&&NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taCluster","TACLUSTER",0,2).viGetSousElement(0,[__VARS0.oGetVariable(5)]).viGetPropriete(0,43))))
			{
				throw new WDErreurBase(2,NSPCS.NSOperations.ChaineConstruit("Le cluster \'%1\' n\'existe pas sur la carte \'%2\'.",__VARS0.oGetVariable(5),__VARS0.oGetVariable(0)));
			}
			if((NSPCS.NSOperations.bComparaison(__VARS0.oGetVariable(5),"",true,false,false,false)&&NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taMarqueur","TAMARQUEUR",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetPropriete(0,43))))
			{
				throw new WDErreurBase(3,NSPCS.NSOperations.ChaineConstruit("Le marqueur \'%1\' n\'existe pas sur la carte \'%2\'.",__VARS0.oGetVariable(1),__VARS0.oGetVariable(0)));
			}
			if((NSPCS.NSOperations.bComparaison(__VARS0.oGetVariable(5),"",true,true,false,false)&&NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taCluster","TACLUSTER",0,2).viGetSousElement(0,[__VARS0.oGetVariable(5)]).viGetMembre2("taMarqueur","TAMARQUEUR",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetPropriete(0,43))))
			{
				throw new WDErreurBase(4,NSPCS.NSOperations.ChaineConstruit("Le marqueur \'%1\' n\'existe pas dans le cluster \'%2\' sur la carte \'%3\'.",__VARS0.oGetVariable(1),__VARS0.oGetVariable(5),__VARS0.oGetVariable(0)));
			}
			COL_Leaflet_LEAFLETSUPPRIMEMARQUEUR(__VARS0.oGetVariable(0),__VARS0.oGetVariable(1),__VARS0.oGetVariable(5));
			COL_Leaflet_LEAFLETAJOUTEMARQUEUR(__VARS0.oGetVariable(0),__VARS0.oGetVariable(1),__VARS0.oGetVariable(2),__VARS0.oGetVariable(3),__VARS0.oGetVariable(4),__VARS0.oGetVariable(5),__VARS0.oGetVariable(6));
			void 0;
		}
	}
	catch(_E)
	{
		clWDUtil.xbCatchThrow(_E);return;
	}
	finally
	{
		clWDUtil&&clWDUtil.oFinally();
	}
}
COL_Leaflet_LEAFLETMODIFIEMARQUEUR[NSPCS.ms_oSymbolDepuisWLEnV2]=true;
function COL_Leaflet_LEAFLETAJOUTECERCLE(VsNomCarte,VsNomForme,VgPosCentre,VxRayon,VtaOption)
{
	var __VARS0=new NSPCS.NSValues.CVariablesLocales(5,0);
	try
	{
		clWDUtil.Try();
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomCarte);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomForme);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.oGetDescriptionDINO(10,13).m_oDescriptionStatique,false,VgPosCentre);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(12),false,VxRayon);
		__VARS0.xDeclareParametre(new NSPCS.NSTypes.CDescriptionTableauAssociatif(0,void 0,NSPCS.NSTypes.iGetDescription(31),16),false,VtaOption,(function()
		{
			return [];
		}).bind(this)
		);
		__VARS0.xVerifieParametres(arguments.length);
		{
			if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(1,NSPCS.NSOperations.ChaineConstruit("La carte \'%1\' n\'existe pas.",__VARS0.oGetVariable(0)));
			}
			if(NSPCS.NSUtil.bGetBooleen(NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taForme","TAFORME",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(2,NSPCS.NSOperations.ChaineConstruit("La forme \'%1\' existe déjà sur la carte \'%2\'.",__VARS0.oGetVariable(1),__VARS0.oGetVariable(0)));
			}
			__VARS0.DeclareVariable(5,COL_Leaflet_STElementCarte.m_oDescriptionDynamique,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]),0);
			if(NSPCS.NSOperations.oUnaire(0,__VARS0.oGetVariable(5).viGetMembre2("taForme","TAFORME",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetPropriete(0,43)))
			{
				__VARS0.oGetVariable(4).viGetSousElement(0,["radius"]).vSetValeur(__VARS0.oGetVariable(3),0,{});
				__VARS0.oGetVariable(5).viGetMembre2("taForme","TAFORME",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).vSetValeur(L.circle([NSPCS.NSValues.oAny2Natif(__VARS0.oGetVariable(2).viGetMembre2("Latitude","LATITUDE",0,4)),NSPCS.NSValues.oAny2Natif(__VARS0.oGetVariable(2).viGetMembre2("Longitude","LONGITUDE",0,4))],NSPCS.NSValues.oAny2Natif(__VARS0.oGetVariable(4))),0,{});
				__VARS0.oGetVariable(5).viGetMembre2("taForme","TAFORME",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetMembre2("addTo","ADDTO",0,3).viAppelFonction(__VARS0.oGetVariable(5).viGetMembre2("pclCarte","PCLCARTE",0,2));
			}
			void 0;
		}
	}
	catch(_E)
	{
		clWDUtil.xbCatchThrow(_E);return;
	}
	finally
	{
		clWDUtil&&clWDUtil.oFinally();
	}
}
COL_Leaflet_LEAFLETAJOUTECERCLE[NSPCS.ms_oSymbolDepuisWLEnV2]=true;
function COL_Leaflet_LEAFLETSUPPRIMECERCLE(VsNomCarte,VsNomForme)
{
	var __VARS0=new NSPCS.NSValues.CVariablesLocales(2,0);
	try
	{
		clWDUtil.Try();
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomCarte);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomForme);
		__VARS0.xVerifieParametres(arguments.length);
		{
			if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(1,NSPCS.NSOperations.ChaineConstruit("La carte \'%1\' n\'existe pas.",__VARS0.oGetVariable(0)));
			}
			if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taForme","TAFORME",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(2,NSPCS.NSOperations.ChaineConstruit("La forme \'%1\' n\'existe pas sur la carte \'%2\'.",__VARS0.oGetVariable(1),__VARS0.oGetVariable(0)));
			}
			COL_Leaflet_LEAFLETSUPPRIMEFORME(__VARS0.oGetVariable(0),__VARS0.oGetVariable(1));
			void 0;
		}
	}
	catch(_E)
	{
		clWDUtil.xbCatchThrow(_E);return;
	}
	finally
	{
		clWDUtil&&clWDUtil.oFinally();
	}
}
COL_Leaflet_LEAFLETSUPPRIMECERCLE[NSPCS.ms_oSymbolDepuisWLEnV2]=true;
function COL_Leaflet_LEAFLETSUPPRIMEFORME(VsNomCarte,VsNomForme)
{
	var __VARS0=new NSPCS.NSValues.CVariablesLocales(2,0);
	try
	{
		clWDUtil.Try();
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomCarte);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomForme);
		__VARS0.xVerifieParametres(arguments.length);
		{
			if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(1,NSPCS.NSOperations.ChaineConstruit("La carte \'%1\' n\'existe pas.",__VARS0.oGetVariable(0)));
			}
			if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taForme","TAFORME",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(2,NSPCS.NSOperations.ChaineConstruit("La forme \'%1\' n\'existe pas sur la carte \'%2\'.",__VARS0.oGetVariable(1),__VARS0.oGetVariable(0)));
			}
			if(NSPCS.NSUtil.bGetBooleen(NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taForme","TAFORME",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetPropriete(0,43)))
			{
				NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taForme","TAFORME",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetMembre2("remove","REMOVE",0,3).viAppelFonction();
				NSPCS.NSOperations.nTableauSupprime(NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taForme","TAFORME",0,2),__VARS0.oGetVariable(1));
			}
			void 0;
		}
	}
	catch(_E)
	{
		clWDUtil.xbCatchThrow(_E);return;
	}
	finally
	{
		clWDUtil&&clWDUtil.oFinally();
	}
}
COL_Leaflet_LEAFLETSUPPRIMEFORME[NSPCS.ms_oSymbolDepuisWLEnV2]=true;
function COL_Leaflet_LEAFLETAJOUTERECTANGLE(VsNomCarte,VsNomForme,VgPosSommetA,VgPosSommetB,VtaOption)
{
	var __VARS0=new NSPCS.NSValues.CVariablesLocales(5,0);
	try
	{
		clWDUtil.Try();
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomCarte);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomForme);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.oGetDescriptionDINO(10,13).m_oDescriptionStatique,false,VgPosSommetA);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.oGetDescriptionDINO(10,13).m_oDescriptionStatique,false,VgPosSommetB);
		__VARS0.xDeclareParametre(new NSPCS.NSTypes.CDescriptionTableauAssociatif(0,void 0,NSPCS.NSTypes.iGetDescription(31),16),false,VtaOption,(function()
		{
			return [];
		}).bind(this)
		);
		__VARS0.xVerifieParametres(arguments.length);
		{
			if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(1,NSPCS.NSOperations.ChaineConstruit("La carte \'%1\' n\'existe pas.",__VARS0.oGetVariable(0)));
			}
			if(NSPCS.NSUtil.bGetBooleen(NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taForme","TAFORME",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(2,NSPCS.NSOperations.ChaineConstruit("La forme \'%1\' existe déjà sur la carte \'%2\'.",__VARS0.oGetVariable(1),__VARS0.oGetVariable(0)));
			}
			__VARS0.DeclareVariable(5,COL_Leaflet_STElementCarte.m_oDescriptionDynamique,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]),0);
			if(NSPCS.NSOperations.oUnaire(0,__VARS0.oGetVariable(5).viGetMembre2("taForme","TAFORME",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetPropriete(0,43)))
			{
				__VARS0.oGetVariable(5).viGetMembre2("taForme","TAFORME",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).vSetValeur(L.rectangle([[NSPCS.NSValues.oAny2Natif(__VARS0.oGetVariable(2).viGetMembre2("Latitude","LATITUDE",0,4)),NSPCS.NSValues.oAny2Natif(__VARS0.oGetVariable(2).viGetMembre2("Longitude","LONGITUDE",0,4))],[NSPCS.NSValues.oAny2Natif(__VARS0.oGetVariable(3).viGetMembre2("Latitude","LATITUDE",0,4)),NSPCS.NSValues.oAny2Natif(__VARS0.oGetVariable(3).viGetMembre2("Longitude","LONGITUDE",0,4))]],NSPCS.NSValues.oAny2Natif(__VARS0.oGetVariable(4))),0,{});
				__VARS0.oGetVariable(5).viGetMembre2("taForme","TAFORME",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetMembre2("addTo","ADDTO",0,3).viAppelFonction(__VARS0.oGetVariable(5).viGetMembre2("pclCarte","PCLCARTE",0,2));
			}
			void 0;
		}
	}
	catch(_E)
	{
		clWDUtil.xbCatchThrow(_E);return;
	}
	finally
	{
		clWDUtil&&clWDUtil.oFinally();
	}
}
COL_Leaflet_LEAFLETAJOUTERECTANGLE[NSPCS.ms_oSymbolDepuisWLEnV2]=true;
function COL_Leaflet_LEAFLETSUPPRIMERECTANGLE(VsNomCarte,VsNomForme)
{
	var __VARS0=new NSPCS.NSValues.CVariablesLocales(2,0);
	try
	{
		clWDUtil.Try();
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomCarte);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomForme);
		__VARS0.xVerifieParametres(arguments.length);
		{
			if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(1,NSPCS.NSOperations.ChaineConstruit("La carte \'%1\' n\'existe pas.",__VARS0.oGetVariable(0)));
			}
			if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taForme","TAFORME",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(2,NSPCS.NSOperations.ChaineConstruit("La forme \'%1\' n\'existe pas sur la carte \'%2\'.",__VARS0.oGetVariable(1),__VARS0.oGetVariable(0)));
			}
			COL_Leaflet_LEAFLETSUPPRIMEFORME(__VARS0.oGetVariable(0),__VARS0.oGetVariable(1));
			void 0;
		}
	}
	catch(_E)
	{
		clWDUtil.xbCatchThrow(_E);return;
	}
	finally
	{
		clWDUtil&&clWDUtil.oFinally();
	}
}
COL_Leaflet_LEAFLETSUPPRIMERECTANGLE[NSPCS.ms_oSymbolDepuisWLEnV2]=true;
function COL_Leaflet_LEAFLETSUPPRIMELIGNE(VsNomCarte,VsNomForme)
{
	var __VARS0=new NSPCS.NSValues.CVariablesLocales(2,0);
	try
	{
		clWDUtil.Try();
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomCarte);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomForme);
		__VARS0.xVerifieParametres(arguments.length);
		{
			if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(1,NSPCS.NSOperations.ChaineConstruit("La carte \'%1\' n\'existe pas.",__VARS0.oGetVariable(0)));
			}
			if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taForme","TAFORME",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(2,NSPCS.NSOperations.ChaineConstruit("La forme \'%1\' n\'existe pas sur la carte \'%2\'.",__VARS0.oGetVariable(1),__VARS0.oGetVariable(0)));
			}
			COL_Leaflet_LEAFLETSUPPRIMEFORME(__VARS0.oGetVariable(0),__VARS0.oGetVariable(1));
			void 0;
		}
	}
	catch(_E)
	{
		clWDUtil.xbCatchThrow(_E);return;
	}
	finally
	{
		clWDUtil&&clWDUtil.oFinally();
	}
}
COL_Leaflet_LEAFLETSUPPRIMELIGNE[NSPCS.ms_oSymbolDepuisWLEnV2]=true;
function COL_Leaflet_LEAFLETSUPPRIMEPOLYGONE(VsNomCarte,VsNomForme)
{
	var __VARS0=new NSPCS.NSValues.CVariablesLocales(2,0);
	try
	{
		clWDUtil.Try();
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomCarte);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomForme);
		__VARS0.xVerifieParametres(arguments.length);
		{
			if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(1,NSPCS.NSOperations.ChaineConstruit("La carte \'%1\' n\'existe pas.",__VARS0.oGetVariable(0)));
			}
			if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taForme","TAFORME",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(2,NSPCS.NSOperations.ChaineConstruit("La forme \'%1\' n\'existe pas sur la carte \'%2\'.",__VARS0.oGetVariable(1),__VARS0.oGetVariable(0)));
			}
			COL_Leaflet_LEAFLETSUPPRIMEFORME(__VARS0.oGetVariable(0),__VARS0.oGetVariable(1));
			void 0;
		}
	}
	catch(_E)
	{
		clWDUtil.xbCatchThrow(_E);return;
	}
	finally
	{
		clWDUtil&&clWDUtil.oFinally();
	}
}
COL_Leaflet_LEAFLETSUPPRIMEPOLYGONE[NSPCS.ms_oSymbolDepuisWLEnV2]=true;
function COL_Leaflet_LEAFLETAJOUTELIGNE(VsNomCarte,VsNomForme,VgPosDebut,VgPosFin,VtaOption)
{
	var __VARS0=new NSPCS.NSValues.CVariablesLocales(5,0);
	try
	{
		clWDUtil.Try();
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomCarte);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomForme);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.oGetDescriptionDINO(10,13).m_oDescriptionStatique,false,VgPosDebut);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.oGetDescriptionDINO(10,13).m_oDescriptionStatique,false,VgPosFin);
		__VARS0.xDeclareParametre(new NSPCS.NSTypes.CDescriptionTableauAssociatif(0,void 0,NSPCS.NSTypes.iGetDescription(31),16),false,VtaOption,(function()
		{
			return [];
		}).bind(this)
		);
		__VARS0.xVerifieParametres(arguments.length);
		{
			if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(1,NSPCS.NSOperations.ChaineConstruit("La carte \'%1\' n\'existe pas.",__VARS0.oGetVariable(0)));
			}
			if(NSPCS.NSUtil.bGetBooleen(NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taForme","TAFORME",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(2,NSPCS.NSOperations.ChaineConstruit("La forme \'%1\' existe déjà sur la carte \'%2\'.",__VARS0.oGetVariable(1),__VARS0.oGetVariable(0)));
			}
			__VARS0.DeclareVariable(5,COL_Leaflet_STElementCarte.m_oDescriptionDynamique,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]),0);
			if(NSPCS.NSOperations.oUnaire(0,__VARS0.oGetVariable(5).viGetMembre2("taForme","TAFORME",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetPropriete(0,43)))
			{
				__VARS0.oGetVariable(5).viGetMembre2("taForme","TAFORME",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).vSetValeur(L.polyline([[NSPCS.NSValues.oAny2Natif(__VARS0.oGetVariable(2).viGetMembre2("Latitude","LATITUDE",0,4)),NSPCS.NSValues.oAny2Natif(__VARS0.oGetVariable(2).viGetMembre2("Longitude","LONGITUDE",0,4))],[NSPCS.NSValues.oAny2Natif(__VARS0.oGetVariable(3).viGetMembre2("Latitude","LATITUDE",0,4)),NSPCS.NSValues.oAny2Natif(__VARS0.oGetVariable(3).viGetMembre2("Longitude","LONGITUDE",0,4))]],NSPCS.NSValues.oAny2Natif(__VARS0.oGetVariable(4))),0,{});
				__VARS0.oGetVariable(5).viGetMembre2("taForme","TAFORME",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetMembre2("addTo","ADDTO",0,3).viAppelFonction(__VARS0.oGetVariable(5).viGetMembre2("pclCarte","PCLCARTE",0,2));
			}
			void 0;
		}
	}
	catch(_E)
	{
		clWDUtil.xbCatchThrow(_E);return;
	}
	finally
	{
		clWDUtil&&clWDUtil.oFinally();
	}
}
COL_Leaflet_LEAFLETAJOUTELIGNE[NSPCS.ms_oSymbolDepuisWLEnV2]=true;
function COL_Leaflet_LEAFLETAJOUTEPOLYGONE(VsNomCarte,VsNomForme,VtabPoint,VtaOption)
{
	var __VARS0=new NSPCS.NSValues.CVariablesLocales(4,0);
	try
	{
		clWDUtil.Try();
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomCarte);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomForme);
		__VARS0.xDeclareParametre(new NSPCS.NSTypes.CDescriptionTableau(NSPCS.NSTypes.oGetDescriptionDINO(10,13).m_oDescriptionStatique,[0],2,0),false,VtabPoint);
		__VARS0.xDeclareParametre(new NSPCS.NSTypes.CDescriptionTableauAssociatif(0,void 0,NSPCS.NSTypes.iGetDescription(31),16),false,VtaOption,(function()
		{
			return [];
		}).bind(this)
		);
		__VARS0.xVerifieParametres(arguments.length);
		{
			if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(1,NSPCS.NSOperations.ChaineConstruit("La carte \'%1\' n\'existe pas.",__VARS0.oGetVariable(0)));
			}
			if(NSPCS.NSUtil.bGetBooleen(NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taForme","TAFORME",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(2,NSPCS.NSOperations.ChaineConstruit("La forme \'%1\' existe déjà sur la carte \'%2\'.",__VARS0.oGetVariable(1),__VARS0.oGetVariable(0)));
			}
			__VARS0.DeclareVariable(4,COL_Leaflet_STElementCarte.m_oDescriptionDynamique,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]),0);
			if(NSPCS.NSOperations.oUnaire(0,__VARS0.oGetVariable(4).viGetMembre2("taForme","TAFORME",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetPropriete(0,43)))
			{
				__VARS0.DeclareVariable(5,new NSPCS.NSTypes.CDescriptionTableau(NSPCS.NSTypes.iGetDescription(31),[0],2,0));
				__VARS0.DeclareVariable(6,NSPCS.NSTypes.oGetDescriptionDINO(10,13).m_oDescriptionStatique);
				try
				{
					L2371201774392:do
					{
						L2371201770329:do
						{
							for(var V2371201771080=NSPCS.NSOperations.iDeclareIterateur(__VARS0.oGetVariable(2),__VARS0.oGetVariable(6),void 0,void 0,2,void 0,false,0);!V2371201771080.bEstFini();V2371201771080.Suivant())
							{
								L2371201770328:do
								{
									NSPCS.NSOperations.nTableauAjoute(__VARS0.oGetVariable(5),[__VARS0.oGetVariable(6).viGetMembre2("Latitude","LATITUDE",0,4),__VARS0.oGetVariable(6).viGetMembre2("Longitude","LONGITUDE",0,4)]);
								}
								while(false);
							}
							break L2371201774392;
						}
						while(false);
					}
					while(false);
				}
				finally
				{
					NSPCS.NSOperations.LibereIterateur(V2371201771080);
				}
				__VARS0.oGetVariable(4).viGetMembre2("taForme","TAFORME",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).vSetValeur(L.polygon(NSPCS.NSValues.oAny2Natif(__VARS0.oGetVariable(5)),NSPCS.NSValues.oAny2Natif(__VARS0.oGetVariable(3))),0,{});
				__VARS0.oGetVariable(4).viGetMembre2("taForme","TAFORME",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetMembre2("addTo","ADDTO",0,3).viAppelFonction(__VARS0.oGetVariable(4).viGetMembre2("pclCarte","PCLCARTE",0,2));
			}
			void 0;
		}
	}
	catch(_E)
	{
		clWDUtil.xbCatchThrow(_E);return;
	}
	finally
	{
		clWDUtil&&clWDUtil.oFinally();
	}
}
COL_Leaflet_LEAFLETAJOUTEPOLYGONE[NSPCS.ms_oSymbolDepuisWLEnV2]=true;
function COL_Leaflet_LEAFLETSUPPRIMETOUTDESSIN(VsNomCarte)
{
	var __VARS0=new NSPCS.NSValues.CVariablesLocales(1,0);
	try
	{
		clWDUtil.Try();
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomCarte);
		__VARS0.xVerifieParametres(arguments.length);
		{
			if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(1,NSPCS.NSOperations.ChaineConstruit("La carte \'%1\' n\'existe pas.",__VARS0.oGetVariable(0)));
			}
			try
			{
				L2371201771368:do
				{
					L2371201776537:do
					{
						var VpclForme=__VARS0.iVariablePourIterateur(NSPCS.NSTypes.iGetDescription(37),void 0);
						var VsNomForme=__VARS0.iVariablePourIterateur(void 0,void 0);
						for(var V2371201778456=NSPCS.NSOperations.iDeclareIterateur(NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taForme","TAFORME",0,2),VpclForme,VsNomForme,void 0,2,void 0,false,0);!V2371201778456.bEstFini();V2371201778456.Suivant())
						{
							L2371201776536:do
							{
								VpclForme.viGetMembre2("remove","REMOVE",0,3).viAppelFonction();
							}
							while(false);
						}
						break L2371201771368;
					}
					while(false);

				}
				while(false);
			}
			finally
			{
				NSPCS.NSOperations.LibereIterateur(V2371201778456);
			}
			NSPCS.NSOperations.TableauSupprimeTout(NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taForme","TAFORME",0,2));
			void 0;
		}
	}
	catch(_E)
	{
		clWDUtil.xbCatchThrow(_E);return;
	}
	finally
	{
		clWDUtil&&clWDUtil.oFinally();
	}
}
COL_Leaflet_LEAFLETSUPPRIMETOUTDESSIN[NSPCS.ms_oSymbolDepuisWLEnV2]=true;
function COL_Leaflet_LEAFLETAFFICHEHEATMAP(VsNomCarte,VtabPoint,VtaOption)
{
	var __VARS0=new NSPCS.NSValues.CVariablesLocales(3,0);
	try
	{
		clWDUtil.Try();
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomCarte);
		__VARS0.xDeclareParametre(new NSPCS.NSTypes.CDescriptionTableau(NSPCS.NSTypes.oGetDescriptionDINO(10,13).m_oDescriptionStatique,[0],2,0),false,VtabPoint);
		__VARS0.xDeclareParametre(new NSPCS.NSTypes.CDescriptionTableauAssociatif(0,void 0,NSPCS.NSTypes.iGetDescription(31),16),false,VtaOption,(function()
		{
			return [];
		}).bind(this)
		);
		__VARS0.xVerifieParametres(arguments.length);
		{
			if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(1,NSPCS.NSOperations.ChaineConstruit("La carte \'%1\' n\'existe pas.",__VARS0.oGetVariable(0)));
			}
			__VARS0.DeclareVariable(3,COL_Leaflet_STElementCarte.m_oDescriptionDynamique,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]),0);
			if(NSPCS.NSOperations.bComparaison(__VARS0.oGetVariable(3).viGetMembre2("pclHeatmap","PCLHEATMAP",0,2),null,true,false,false,false))
			{
				__VARS0.DeclareVariable(4,new NSPCS.NSTypes.CDescriptionTableau(NSPCS.NSTypes.iGetDescription(31),[0],2,0));
				__VARS0.DeclareVariable(5,NSPCS.NSTypes.oGetDescriptionDINO(10,13).m_oDescriptionStatique);
				try
				{
					L2371201765976:do
					{
						L2371201794089:do
						{
							for(var V2371201794808=NSPCS.NSOperations.iDeclareIterateur(__VARS0.oGetVariable(1),__VARS0.oGetVariable(5),void 0,void 0,2,void 0,false,0);!V2371201794808.bEstFini();V2371201794808.Suivant())
							{
								L2371201794088:do
								{
									NSPCS.NSOperations.nTableauAjoute(__VARS0.oGetVariable(4),[__VARS0.oGetVariable(5).viGetMembre2("Latitude","LATITUDE",0,4),__VARS0.oGetVariable(5).viGetMembre2("Longitude","LONGITUDE",0,4),__VARS0.oGetVariable(5).viGetMembre2("Altitude","ALTITUDE",0,4)]);
								}
								while(false);
							}
							break L2371201765976;
						}
						while(false);
					}
					while(false);
				}
				finally
				{
					NSPCS.NSOperations.LibereIterateur(V2371201794808);
				}
				if(NSPCS.NSOperations.bComparaison(__VARS0.oGetVariable(2).viGetSousElement(0,["radius"]).viGetPropriete(0,43),false,true,false,false,false))
				{
					__VARS0.oGetVariable(2).viGetSousElement(0,["radius"]).vSetValeur(100,0,{});
				}
				__VARS0.oGetVariable(3).viGetMembre2("pclHeatmap","PCLHEATMAP",0,2).vSetValeur(L.heatLayer(NSPCS.NSValues.oAny2Natif(__VARS0.oGetVariable(4)),NSPCS.NSValues.oAny2Natif(__VARS0.oGetVariable(2))),0,{});
				__VARS0.oGetVariable(3).viGetMembre2("pclHeatmap","PCLHEATMAP",0,2).viGetMembre2("addTo","ADDTO",0,3).viAppelFonction(__VARS0.oGetVariable(3).viGetMembre2("pclCarte","PCLCARTE",0,2));
			}
			void 0;
		}
	}
	catch(_E)
	{
		clWDUtil.xbCatchThrow(_E);return;
	}
	finally
	{
		clWDUtil&&clWDUtil.oFinally();
	}
}
COL_Leaflet_LEAFLETAFFICHEHEATMAP[NSPCS.ms_oSymbolDepuisWLEnV2]=true;
function COL_Leaflet_LEAFLETMASQUEHEATMAP(VsNomCarte)
{
	var __VARS0=new NSPCS.NSValues.CVariablesLocales(1,0);
	try
	{
		clWDUtil.Try();
		__VARS0.xDeclareParametre(null,false,VsNomCarte);
		__VARS0.xVerifieParametres(arguments.length);
		{
			if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(1,NSPCS.NSOperations.ChaineConstruit("La carte \'%1\' n\'existe pas.",__VARS0.oGetVariable(0)));
			}
			if(NSPCS.NSOperations.bComparaison(NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("pclHeatmap","PCLHEATMAP",0,2),null,true,true,false,false))
			{
				NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("pclHeatmap","PCLHEATMAP",0,2).viGetMembre2("remove","REMOVE",0,3).viAppelFonction();
				NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("pclHeatmap","PCLHEATMAP",0,2).vSetValeur(null,0,{});
			}
			void 0;
		}
	}
	catch(_E)
	{
		clWDUtil.xbCatchThrow(_E);return;
	}
	finally
	{
		clWDUtil&&clWDUtil.oFinally();
	}
}
COL_Leaflet_LEAFLETMASQUEHEATMAP[NSPCS.ms_oSymbolDepuisWLEnV2]=true;
function COL_Leaflet_LEAFLETAJOUTECLUSTER(VsNomCarte,VsNomCluster)
{
	var __VARS0=new NSPCS.NSValues.CVariablesLocales(2,0);
	try
	{
		clWDUtil.Try();
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomCarte);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomCluster);
		__VARS0.xVerifieParametres(arguments.length);
		{
			if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(1,NSPCS.NSOperations.ChaineConstruit("La carte \'%1\' n\'existe pas.",__VARS0.oGetVariable(0)));
			}
			if(NSPCS.NSUtil.bGetBooleen(NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taCluster","TACLUSTER",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(2,NSPCS.NSOperations.ChaineConstruit("Le cluster \'%1\' existe déjà sur la carte \'%2\'.",__VARS0.oGetVariable(1),__VARS0.oGetVariable(0)));
			}
			__VARS0.DeclareVariable(2,COL_Leaflet_STCluster.m_oDescriptionStatique);
			__VARS0.oGetVariable(2).viGetMembre2("pclLayer","PCLLAYER",0,2).vSetValeur(L.markerClusterGroup(),0,{});
			NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taCluster","TACLUSTER",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).vSetValeur(__VARS0.oGetVariable(2),0,{});
			NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("pclCarte","PCLCARTE",0,2).viGetMembre2("addLayer","ADDLAYER",0,3).viAppelFonction(__VARS0.oGetVariable(2).viGetMembre2("pclLayer","PCLLAYER",0,2));
			void 0;
		}
	}
	catch(_E)
	{
		clWDUtil.xbCatchThrow(_E);return;
	}
	finally
	{
		clWDUtil&&clWDUtil.oFinally();
	}
}
COL_Leaflet_LEAFLETAJOUTECLUSTER[NSPCS.ms_oSymbolDepuisWLEnV2]=true;
function COL_Leaflet_LEAFLETSUPPRIMECLUSTER(VsNomCarte,VsNomCluster)
{
	var __VARS0=new NSPCS.NSValues.CVariablesLocales(2,0);
	try
	{
		clWDUtil.Try();
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomCarte);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomCluster);
		__VARS0.xVerifieParametres(arguments.length);
		{
			if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(1,NSPCS.NSOperations.ChaineConstruit("La carte \'%1\' n\'existe pas.",__VARS0.oGetVariable(0)));
			}
			if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taCluster","TACLUSTER",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(2,NSPCS.NSOperations.ChaineConstruit("Le cluster \'%1\' n\'existe pas sur la carte \'%2\'.",__VARS0.oGetVariable(1),__VARS0.oGetVariable(0)));
			}
			NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taCluster","TACLUSTER",0,2).viGetSousElement(0,[__VARS0.oGetVariable(1)]).viGetMembre2("pclLayer","PCLLAYER",0,2).viGetMembre2("remove","REMOVE",0,3).viAppelFonction();
			NSPCS.NSOperations.nTableauSupprime(NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taCluster","TACLUSTER",0,2),__VARS0.oGetVariable(1));
			void 0;
		}
	}
	catch(_E)
	{
		clWDUtil.xbCatchThrow(_E);return;
	}
	finally
	{
		clWDUtil&&clWDUtil.oFinally();
	}
}
COL_Leaflet_LEAFLETSUPPRIMECLUSTER[NSPCS.ms_oSymbolDepuisWLEnV2]=true;
function COL_Leaflet_LATLNGVERSGEOPOSITION(VxLatitude,VxLongitude)
{
	var __VARS0=new NSPCS.NSValues.CVariablesLocales(2,0);
	try
	{
		clWDUtil.Try();
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(12),false,VxLatitude);
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(12),false,VxLongitude);
		__VARS0.xVerifieParametres(arguments.length);
		{
			__VARS0.DeclareVariable(2,NSPCS.NSTypes.oGetDescriptionDINO(10,13).m_oDescriptionStatique);
			__VARS0.oGetVariable(2).viGetMembre2("Latitude","LATITUDE",0,4).vSetValeur(__VARS0.oGetVariable(0),0,{});
			__VARS0.oGetVariable(2).viGetMembre2("Longitude","LONGITUDE",0,4).vSetValeur(__VARS0.oGetVariable(1),0,{});
			clWDUtil.Renvoyer(NSPCS.NSValues.oAny2RValue(__VARS0.oGetVariable(2)));
			return;
			void 0;
		}
	}
	catch(_E)
	{
		clWDUtil.xbCatchThrow(_E);return;
	}
	finally
	{
		return clWDUtil&&clWDUtil.oFinally([NSPCS.NSTypes.oGetDescriptionDINO(10,13).m_oDescriptionStatique]);
	}
}
COL_Leaflet_LATLNGVERSGEOPOSITION[NSPCS.ms_oSymbolDepuisWLEnV2]=true;
function COL_Leaflet_TRACEMARQUEUR(VsNomCarte)
{
	var __VARS0=new NSPCS.NSValues.CVariablesLocales(1,0);
	try
	{
		clWDUtil.Try();
		__VARS0.xDeclareParametre(NSPCS.NSTypes.iGetDescription(16),false,VsNomCarte);
		__VARS0.xVerifieParametres(arguments.length);
		{
			if(NSPCS.NSOperations.oUnaire(0,NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetPropriete(0,43)))
			{
				throw new WDErreurBase(1,NSPCS.NSOperations.ChaineConstruit("La carte \'%1\' n\'existe pas.",__VARS0.oGetVariable(0)));
			}
			__VARS0.DeclareVariable(1,NSPCS.NSTypes.iGetDescription(16),"Marqueur directs\r\n",0);
			try
			{
				L2371201765688:do
				{
					L2371201782425:do
					{
						var VpclMarqueur=__VARS0.iVariablePourIterateur(NSPCS.NSTypes.iGetDescription(37),void 0);
						var VsNomMarqueur=__VARS0.iVariablePourIterateur(void 0,void 0);
						for(var V2371201763816=NSPCS.NSOperations.iDeclareIterateur(NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taMarqueur","TAMARQUEUR",0,2),VpclMarqueur,VsNomMarqueur,void 0,2,void 0,false,0);!V2371201763816.bEstFini();V2371201763816.Suivant())
						{
							L2371201782424:do
							{
								__VARS0.oGetVariable(1).vSetValeur(NSPCS.NSOperations.sConcatSeparateur(__VARS0.oGetVariable(1),"\r\n",VsNomMarqueur),0,{m_bCombine:true});
							}
							while(false);
						}
						break L2371201765688;
					}
					while(false);

				}
				while(false);
			}
			finally
			{
				NSPCS.NSOperations.LibereIterateur(V2371201763816);
			}
			__VARS0.DeclareVariable(2,COL_Leaflet_STCluster.m_oDescriptionStatique);
			try
			{
				L2371201799960:do
				{
					L2371201767593:do
					{
						var VsNomCluster=__VARS0.iVariablePourIterateur(void 0,void 0);
						for(var V2371201769512=NSPCS.NSOperations.iDeclareIterateur(NSPCS.NSChamps.oGetPageCourante().xviGetVariable("gtaCartes","COL_LEAFLET",0).viGetSousElement(0,[__VARS0.oGetVariable(0)]).viGetMembre2("taCluster","TACLUSTER",0,2),__VARS0.oGetVariable(2),VsNomCluster,void 0,2,void 0,false,0);!V2371201769512.bEstFini();V2371201769512.Suivant())
						{
							L2371201767592:do
							{
								__VARS0.oGetVariable(1).vSetValeur(NSPCS.NSOperations.sConcatSeparateur(__VARS0.oGetVariable(1),"\r\n",NSPCS.NSOperations.ChaineConstruit("Marqueur du cluster %1",VsNomCluster)),0,{m_bCombine:true});
								try
								{
									L2371201803368:do
									{
										L2371201800297:do
										{
											var VpclMarqueur=__VARS0.iVariablePourIterateur(NSPCS.NSTypes.iGetDescription(37),void 0);
											var VsNomMarqueur=__VARS0.iVariablePourIterateur(void 0,void 0);
											for(var V2371201801496=NSPCS.NSOperations.iDeclareIterateur(__VARS0.oGetVariable(2).viGetMembre2("taMarqueur","TAMARQUEUR",0,2),VpclMarqueur,VsNomMarqueur,void 0,2,void 0,false,0);!V2371201801496.bEstFini();V2371201801496.Suivant())
											{
												L2371201800296:do
												{
													__VARS0.oGetVariable(1).vSetValeur(NSPCS.NSOperations.sConcatSeparateur(__VARS0.oGetVariable(1),"\r\n",VsNomMarqueur),0,{m_bCombine:true});
												}
												while(false);
											}
											break L2371201803368;
										}
										while(false);
									}
									while(false);
								}
								finally
								{
									NSPCS.NSOperations.LibereIterateur(V2371201801496);
								}
							}
							while(false);
						}
						break L2371201799960;
					}
					while(false);

				}
				while(false);
			}
			finally
			{
				NSPCS.NSOperations.LibereIterateur(V2371201769512);
			}
			clWDUtil.Renvoyer(NSPCS.NSValues.oAny2RValue(__VARS0.oGetVariable(1)));
			return;
			void 0;
		}
	}
	catch(_E)
	{
		clWDUtil.xbCatchThrow(_E);return;
	}
	finally
	{
		return clWDUtil&&clWDUtil.oFinally();
	}
}
COL_Leaflet_TRACEMARQUEUR[NSPCS.ms_oSymbolDepuisWLEnV2]=true;
